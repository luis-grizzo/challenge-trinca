"use strict";(self.webpackChunkchallenge_trinca=self.webpackChunkchallenge_trinca||[]).push([[224],{6224:function(n,e,t){t.r(e),t.d(e,{default:function(){return C}});var i,a,r,o,s=t(2982),c=t(1413),l=t(885),d=t(2791),u=t(6871),p=t(1134),m=t(8181),f=t(577),h=t(7322),_=t(7894),x=function(n){return(0,_.f)().filter((function(e){return e.id===n}))[0]},g=t(9717),w=t(2629),v=t(1637),j=t(168),Z=t(5751),b=Z.ZP.div(i||(i=(0,j.Z)(["\n  ","\n"])),(function(n){var e=n.theme;return(0,Z.iv)(a||(a=(0,j.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n\n    .w__controls {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      flex-wrap: wrap;\n      gap: 1rem;\n    }\n\n    .w__page {\n      display: flex;\n      flex-direction: column;\n      gap: 5rem;\n\n      padding: 5rem;\n      background-color: ",";\n      border-radius: 0.2rem;\n      box-shadow: ",";\n\n      .wp__header {\n        display: grid;\n        grid-template-columns: 1fr auto;\n        grid-auto-rows: auto;\n        justify-content: space-between;\n        gap: 2rem;\n\n        .wph__date {\n          font-size: 2.8rem;\n          font-weight: 800;\n        }\n\n        .wph__title {\n          font-size: 3.6rem;\n          font-weight: 700;\n        }\n\n        .wph__guests,\n        .wph__money {\n          display: flex;\n          align-items: center;\n          gap: 1rem;\n\n          font-size: 2.1rem;\n          font-weight: 500;\n        }\n\n        .wph__additional-information {\n          padding: 2rem;\n          border-left: 0.4rem solid ",";\n          color: ",";\n        }\n      }\n    }\n\n    .wm__form {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n      gap: 5rem;\n\n      width: 100%;\n\n      .wmf__money {\n        display: flex;\n        align-items: center;\n        gap: 1rem;\n\n        width: 100%;\n      }\n    }\n  "])),e.colors.shape,e.shadows.default,e.colors.text,e.colors.text)})),y=Z.ZP.div(r||(r=(0,j.Z)(["\n  ","\n"])),(function(n){var e=n.theme;return(0,Z.iv)(o||(o=(0,j.Z)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n\n    border-radius: 0.2rem;\n\n    .l__row {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      gap: 2rem;\n\n      padding: 2rem 1rem;\n      border-bottom: 2px solid ",";\n      transition: ",";\n\n      &:hover {\n        background-color: ",";\n      }\n\n      &--checked {\n        .lr__right {\n          text-decoration: line-through;\n        }\n      }\n\n      .lr__left {\n        display: flex;\n        align-items: center;\n        gap: 2rem;\n      }\n\n      .lr__right {\n        font-size: 2.1rem;\n        font-weight: 700;\n      }\n    }\n  "])),e.colors.primary,e.transitions.default,e.colors.darkShape)})),N=t(184),k=function(n){var e=n.eventId,t=n.participants,i=n.onParticipantUpdate;return(0,N.jsx)(y,{children:t&&0!==t.length?t.map((function(n){return(0,N.jsxs)("div",{className:"l__row ".concat(n.paid?"l__row--checked":""),onClick:function(){i(function(n,e){var t=x(n),i=t.participants.map((function(n){return n.id===e.id?(0,c.Z)({},e):n}));return(0,c.Z)((0,c.Z)({},t),{},{value:i.filter((function(n){return n.paid})).map((function(n){return n.amount})).reduce((function(n,e){return n+e}),0),participants:i})}(e,(0,c.Z)((0,c.Z)({},n),{},{paid:!n.paid})))},children:[(0,N.jsxs)("div",{className:"lr__left",children:[(0,N.jsx)(v.XZ,{label:n.name,checked:n.paid,readOnly:!0}),n.includeDrink&&(0,N.jsx)(h.LnJ,{})]}),(0,N.jsx)("span",{className:"lr__right",children:(0,w.dN)(n.amount/100)})]},n.id)})):(0,N.jsx)("span",{children:"Nenhum participante adicionado ainda :("})})},S=t(8168),I=t(822),C=function(){var n,e,t,i=(0,u.UO)(),a=(0,u.s0)(),r=(0,d.useState)(x(parseInt(null!==(n=i.id)&&void 0!==n?n:""))),o=(0,l.Z)(r,2),j=o[0],Z=o[1],y=(0,d.useState)(!1),C=(0,l.Z)(y,2),z=C[0],O=C[1],P=(0,d.useState)(0),D=(0,l.Z)(P,2),J=D[0],M=D[1],A=(0,d.useState)(!1),U=(0,l.Z)(A,2),X=U[0],F=U[1];(0,d.useEffect)((function(){!function(n){var e=(0,_.f)().map((function(e){return e.id===n.id?(0,c.Z)({},n):e}));(0,g.p)(e)}(j)}),[j]);var H=(0,p.cI)({defaultValues:{name:""}}),L=H.handleSubmit,Q=H.control,V=H.formState.isDirty;return(0,N.jsxs)(b,{children:[(0,N.jsx)("div",{className:"w__controls",children:(0,N.jsx)(v.zx,{icon:(0,N.jsx)(h.Su7,{}),onClick:function(){return a("/")},children:"Voltar"})}),(0,N.jsxs)("div",{className:"w__page",children:[(0,N.jsxs)("div",{className:"wp__header",children:[(0,N.jsx)("span",{className:"wph__date",children:(0,m.Z)(new Date(j.date),"dd/MM")}),(0,N.jsxs)("span",{className:"wph__guests",children:[(0,N.jsx)("img",{src:S.Z,alt:"\xcdcone de convidados"}),null!==(e=null===(t=j.participants)||void 0===t?void 0:t.length)&&void 0!==e?e:0]}),(0,N.jsx)("h1",{className:"wph__title",children:j.title}),(0,N.jsxs)("span",{className:"wph__money",children:[(0,N.jsx)("img",{src:I.Z,alt:"\xcdcone cifr\xe3o"}),(0,w.dN)(j.value/100)]}),(0,N.jsx)("div",{className:"wph__additional-information",children:j.additionalInfo})]}),(0,N.jsx)("div",{className:"wp__list",children:(0,N.jsx)(k,{eventId:j.id,participants:j.participants,onParticipantUpdate:function(n){return Z(n)}})}),(0,N.jsx)(v.zx,{fullWidth:!0,icon:(0,N.jsx)(h.x06,{}),onClick:function(){return O(!0)},children:"Adicionar Participante"})]}),(0,N.jsx)(v.u_,{isOpen:z,onClose:function(){return O(!1)},modalTitle:"Adicionar participante",children:(0,N.jsxs)("form",{onSubmit:L((function(n){var e=n.name,t=X?100*(J+20):100*J;Z((0,c.Z)((0,c.Z)({},j),{},{participants:[].concat((0,s.Z)(j.participants),[{id:Math.round(1e4*Math.random()),name:e,amount:t,includeDrink:X,paid:!1}])})),O(!1),f.Am.success("participante adicionado com sucesso!")})),className:"wm__form",children:[(0,N.jsx)(p.Qr,{name:"name",control:Q,render:function(n){var e=n.field;return(0,N.jsx)(v.II,(0,c.Z)((0,c.Z)({},e),{},{label:"Nome participante",placeholder:"Qual o nome da fera?",autoFocus:!0}))}}),(0,N.jsxs)("div",{className:"wmf__money",children:[(0,N.jsx)(v.XZ,{checked:X,onChange:function(){return F((function(n){return!n}))},label:"Incluir bebidas"}),(0,N.jsx)(v.LH,{value:100*J,onChange:function(n){return M(parseFloat(n))},label:"Contribui\xe7\xe3o",placeholder:"Com quanto podemos contar?"})]}),(0,N.jsx)(v.zx,{type:"submit",fullWidth:!0,icon:(0,N.jsx)(h.HhX,{}),disabled:!V,children:"Confirmar"})]})})]})}},7894:function(n,e,t){t.d(e,{f:function(){return i}});var i=function(){!localStorage.getItem("@churras-trinca/events")&&localStorage.setItem("@churras-trinca/events",JSON.stringify([]));var n=localStorage.getItem("@churras-trinca/events");return n&&JSON.parse(n)}},9717:function(n,e,t){t.d(e,{p:function(){return i}});var i=function(n){localStorage.setItem("@churras-trinca/events",JSON.stringify(n))}}}]);
//# sourceMappingURL=224.b75c9982.chunk.js.map