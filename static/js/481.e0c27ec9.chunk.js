"use strict";(self.webpackChunkchallenge_trinca=self.webpackChunkchallenge_trinca||[]).push([[481],{8168:function(n,e,t){t(2791);e.Z=t.p+"static/media/icon_guests.2feb883be433b54bd9cffdaf4a96a7ba.svg"},822:function(n,e,t){t(2791);e.Z=t.p+"static/media/icon_money.d670e7833fc2133eb1fe969f2cc86e45.svg"},5481:function(n,e,t){t.r(e),t.d(e,{default:function(){return y}});var r,a,i=t(8683),c=t(885),o=t(2791),s=t(6871),l=t(4139),u=t(8181),d=t(577),f=t(6856),m=t(7425),g=t(2018),p=t(9153),h=t(9377),_=t(6927),x=t(8168),v=t(822),w=t(168),Z=t(5751),j=Z.ZP.div(r||(r=(0,w.Z)(["\n  ","\n"])),(function(n){var e=n.theme;return(0,Z.iv)(a||(a=(0,w.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: 2rem;\n\n    .w__controls {\n      display: flex;\n      align-items: center;\n      flex-wrap: wrap;\n      gap: 1rem;\n    }\n\n    .w__grid {\n      display: grid;\n      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n      grid-auto-rows: 1fr;\n      gap: 2.4rem;\n\n      .wg__event-card,\n      .wg__no-event-card {\n        min-height: 21rem;\n        padding: 2rem 2.5rem;\n        border-radius: 0.2rem;\n        cursor: pointer;\n        box-shadow: ",";\n        background-color: ",";\n\n        &:focus {\n          outline: none;\n          box-shadow: 0 0 0 0.3rem ",";\n        }\n      }\n\n      .wg__event-card {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        grid-template-rows: auto 10rem auto;\n        gap: 1rem;\n\n        .wgec__event-date {\n          grid-column-start: span 2;\n\n          font-size: 2.8rem;\n          font-weight: 800;\n        }\n\n        .wgec__description {\n          grid-column-start: span 2;\n\n          font-size: 2.1rem;\n          font-weight: 700;\n          color: ",";\n        }\n\n        .wgec__guests-number,\n        .wgec__amount {\n          display: flex;\n          align-items: center;\n          gap: 1rem;\n\n          font-size: 2.1rem;\n          font-weight: 500;\n        }\n\n        .wgec__amount {\n          justify-content: flex-end;\n        }\n      }\n\n      .wg__no-event-card {\n        display: flex;\n        flex-direction: column;\n        align-items: flex-end;\n        justify-content: flex-end;\n        gap: 2rem;\n\n        .wgcec__image-wrapper {\n          display: flex;\n          align-items: center;\n\n          justify-content: center;\n\n          width: 8rem;\n          aspect-ratio: 1/1;\n\n          border-radius: 50%;\n          background-color: ",";\n        }\n\n        .wgcec__description {\n          text-align: right;\n\n          font-size: 2.1rem;\n          font-weight: 700;\n        }\n      }\n    }\n\n    .wm__form {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n      gap: 5rem;\n\n      width: 100%;\n    }\n  "])),e.shadows.default,e.colors.shape,e.colors.blackHover,e.colors.text,e.colors.primary)})),b=t(184),y=function(){var n=(0,s.s0)(),e=(0,p.a)().logout,t=(0,o.useState)(!1),r=(0,c.Z)(t,2),a=r[0],w=r[1],Z=(0,o.useState)((0,g.Tt)()),y=(0,c.Z)(Z,2),N=y[0],S=y[1],I=(0,o.useState)({title:"",date:new Date,additionalInfo:""}),z=(0,c.Z)(I,2),k=z[0],C=z[1],O=(0,l.useTrail)(N.length,{from:{opacity:0,y:100},to:{opacity:1,y:1}});return(0,b.jsxs)(j,{children:[(0,b.jsxs)("div",{className:"w__controls",children:[(0,b.jsx)(_.zx,{variant:"outlined",icon:(0,b.jsx)(f.lE7,{}),onClick:function(){return e()},children:"Sair"}),(0,b.jsx)(_.zx,{variant:"default",icon:(0,b.jsx)(f.RgZ,{}),onClick:function(){return w(!0)},children:"Adicionar churras"})]}),(0,b.jsx)("div",{className:"w__grid",children:0===O.length?(0,b.jsxs)("div",{onClick:function(){return w(!0)},className:"wg__no-event-card",children:[(0,b.jsx)(m.$GM,{size:80}),(0,b.jsx)("span",{className:"wgcec__description",children:"Nenhum churras adicionado"})]}):O.map((function(e,t){return(0,b.jsxs)(l.animated.div,{style:e,onClick:function(){return n("/details/".concat(N[t].id))},className:"wg__event-card",tabIndex:1,children:[(0,b.jsx)("div",{className:"wgec__event-date",children:(0,u.Z)(new Date(N[t].date),"dd/MM")}),(0,b.jsx)("div",{className:"wgec__description",children:N[t].title}),(0,b.jsxs)("div",{className:"wgec__guests-number",children:[(0,b.jsx)("img",{src:x.Z,alt:"\xcdcone convidados"}),N[t].participants.length]}),(0,b.jsxs)("div",{className:"wgec__amount",children:[(0,b.jsx)("img",{src:v.Z,alt:"\xcdcone cifr\xe3o"}),(0,h.dN)(N[t].value/100)]})]},N[t].id)}))}),(0,b.jsx)(_.u_,{isOpen:a,onClose:function(){return w(!1)},modalTitle:"Adicionar churras",children:(0,b.jsxs)("form",{onSubmit:function(n){n.preventDefault();var e=(0,g.zU)(k);S(e),w(!1),C({title:"",date:new Date,additionalInfo:""}),d.Am.success("Churras adicionado com sucesso!")},className:"wm__form",children:[(0,b.jsx)(_.II,{value:k.title,onChange:function(n){return C((function(e){return(0,i.Z)((0,i.Z)({},e),{},{title:n.target.value})}))},label:"Titulo",type:"text",placeholder:"Qual o motivo da festa?",autoFocus:!0}),(0,b.jsx)(_.Mt,{value:k.date,onChange:function(n){return C((function(e){return(0,i.Z)((0,i.Z)({},e),{},{date:n})}))},label:"Selecione uma data",placeholder:"Escolha uma boa data para celebrar!"}),(0,b.jsx)(_.gx,{value:k.additionalInfo,onChange:function(n){return C((function(e){return(0,i.Z)((0,i.Z)({},e),{},{additionalInfo:n.target.value})}))},label:"Informa\xe7\xf5es adicionais",placeholder:"O que o pessoal n\xe3o pode esquecer? (Opcional)"}),(0,b.jsx)(_.zx,{variant:"default",type:"submit",fullWidth:!0,icon:(0,b.jsx)(f.HhX,{}),disabled:!k.title,children:"Adicionar"})]})})]})}},2018:function(n,e,t){t.d(e,{zu:function(){return a},Tt:function(){return r},zU:function(){return s},K8:function(){return l},to:function(){return u}});var r=function(){!localStorage.getItem("@churras-trinca/events")&&localStorage.setItem("@churras-trinca/events",JSON.stringify([]));var n=localStorage.getItem("@churras-trinca/events");return n&&JSON.parse(n)},a=function(n){return r().filter((function(e){return e.id===n}))[0]},i=t(8683),c=t(2982),o=t(9377),s=function(n){var e=r(),t=[].concat((0,c.Z)(e),[(0,i.Z)((0,i.Z)({},n),{},{id:(0,o.Ox)(),value:0,participants:[]})]);return localStorage.setItem("@churras-trinca/events",JSON.stringify(t)),t},l=(t(8743),function(n){var e=r().map((function(e){return e.id===n.id?(0,i.Z)({},n):e}));return localStorage.setItem("@churras-trinca/events",JSON.stringify(e)),e}),u=function(n,e){var t=a(n),r=t.participants.map((function(n){return n.id===e?(0,i.Z)((0,i.Z)({},n),{},{paid:!n.paid}):n})),c=(0,i.Z)((0,i.Z)({},t),{},{value:r.filter((function(n){return n.paid})).map((function(n){return n.amount})).reduce((function(n,e){return n+e}),0),participants:r});return l(c),c}},8743:function(n,e,t){t.d(e,{d:function(){return o}});var r=t(2982),a=t(8683),i=t(9377),c=t(2018),o=function(n,e){var t=(0,c.zu)(n),o=(0,a.Z)((0,a.Z)({},t),{},{participants:[].concat((0,r.Z)(t.participants),[(0,a.Z)((0,a.Z)({},e),{},{id:(0,i.Ox)(),paid:!1})])});return(0,c.K8)(o),o}}}]);
//# sourceMappingURL=481.e0c27ec9.chunk.js.map