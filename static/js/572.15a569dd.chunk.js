"use strict";(self.webpackChunkchallenge_trinca=self.webpackChunkchallenge_trinca||[]).push([[572],{7572:function(e,r,n){n.r(r),n.d(r,{default:function(){return g}});var a,l=n(1413),o=n(885),t=n(2791),i=n(1134),s=n(577),c=n(7322),m=n(9153),u=n(2982),d=function(){!localStorage.getItem("@churras-trinca/logins")&&localStorage.setItem("@churras-trinca/logins",JSON.stringify([]));var e=localStorage.getItem("@churras-trinca/logins");return e&&JSON.parse(e)},f=n(1637),p=n(168),h=n(5751).ZP.div(a||(a=(0,p.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 5rem;\n\n  .w__login-form,\n  .wm__register-form {\n    display: flex;\n    flex-direction: column;\n    gap: 5rem;\n\n    width: 100%;\n  }\n\n  .w__login-form {\n    max-width: 50rem;\n  }\n"]))),x=n(184),g=function(){var e=(0,m.a)().login,r=(0,t.useState)(!1),n=(0,o.Z)(r,2),a=n[0],p=n[1],g=(0,i.cI)({defaultValues:{email:"",password:""}}),w=(0,i.cI)({defaultValues:{email:"",password:""}});return(0,x.jsxs)(h,{children:[(0,x.jsxs)("form",{onSubmit:w.handleSubmit((function(r){var n=function(e,r){var n=d().filter((function(n){return n.email===e&&n.password===r}));return n[0]?n[0]:(s.Am.error("Login inv\xe1lido."),null)}(r.email,r.password);n&&e(n)})),className:"w__login-form",children:[(0,x.jsx)(i.Qr,{name:"email",control:w.control,render:function(e){var r=e.field;return(0,x.jsx)(f.II,(0,l.Z)({label:"E-mail",type:"email",placeholder:"exemplo@exemplo.com"},r))}}),(0,x.jsx)(i.Qr,{name:"password",control:w.control,render:function(e){var r=e.field;return(0,x.jsx)(f.II,(0,l.Z)({label:"Senha",type:"password",placeholder:"Sua senha"},r))}}),(0,x.jsx)(f.zx,{type:"submit",fullWidth:!0,children:"Entrar"})]}),(0,x.jsx)(f.zx,{variant:"ghost",onClick:function(){return p(!0)},children:"Primeira vez? Cadastre-se!"}),(0,x.jsx)(f.u_,{isOpen:a,modalTitle:"Cadastro",onClose:function(){return p(!1)},children:(0,x.jsxs)("form",{onSubmit:g.handleSubmit((function(e){!function(e,r){var n=d(),a=[].concat((0,u.Z)(n),[{id:Math.round(1e4*Math.random()),email:e,password:r}]);localStorage.setItem("@churras-trinca/logins",JSON.stringify(a))}(e.email,e.password),p(!1),s.Am.success("Login cadastrado com sucesso!")})),className:"wm__register-form",children:[(0,x.jsx)(i.Qr,{name:"email",control:g.control,render:function(e){var r=e.field;return(0,x.jsx)(f.II,(0,l.Z)({label:"E-mail",type:"email",placeholder:"exemplo@exemplo.com"},r))}}),(0,x.jsx)(i.Qr,{name:"password",control:g.control,render:function(e){var r=e.field;return(0,x.jsx)(f.II,(0,l.Z)({label:"Senha",type:"password",placeholder:"Sua senha"},r))}}),(0,x.jsx)(f.zx,{fullWidth:!0,icon:(0,x.jsx)(c.Gpi,{}),type:"submit",disabled:!g.formState.isDirty,children:"Criar Conta"})]})})]})}}}]);
//# sourceMappingURL=572.15a569dd.chunk.js.map