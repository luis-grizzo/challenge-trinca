"use strict";(self.webpackChunkchallenge_trinca=self.webpackChunkchallenge_trinca||[]).push([[702],{8168:function(n,e,i){i(2791);e.Z=i.p+"static/media/icon_guests.2feb883be433b54bd9cffdaf4a96a7ba.svg"},822:function(n,e,i){i(2791);e.Z=i.p+"static/media/icon_money.d670e7833fc2133eb1fe969f2cc86e45.svg"},8702:function(n,e,i){i.r(e),i.d(e,{default:function(){return S}});var t,a,r,c,o=i(8683),s=i(885),l=i(2791),d=i(6871),u=i(4139),p=i(8181),f=i(577),m=i(6856),h=i(2018),_=i(9377),x=i(6927),g=i(8168),v=i(822),w=i(4373),j=i(168),Z=i(5751),b=Z.ZP.div(t||(t=(0,j.Z)(["\n  ","\n"])),(function(n){var e=n.theme;return(0,Z.iv)(a||(a=(0,j.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: 2rem;\n\n    .w__controls {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      flex-wrap: wrap;\n      gap: 1rem;\n    }\n\n    .w__page {\n      display: flex;\n      flex-direction: column;\n      gap: 5rem;\n\n      padding: 5rem;\n      background-color: ",";\n      border-radius: 0.2rem;\n      box-shadow: ",";\n\n      .wp__header {\n        display: flex;\n        flex-direction: column;\n        gap: 2rem;\n\n        .wph__row {\n          display: flex;\n          justify-content: space-between;\n          flex-wrap: wrap;\n          gap: 2rem;\n        }\n\n        .wph__column {\n          display: flex;\n          flex-direction: column;\n          gap: 2rem;\n        }\n\n        .wph__date {\n          font-size: 2.8rem;\n          font-weight: 800;\n        }\n\n        .wph__title {\n          font-size: 3.6rem;\n          font-weight: 700;\n        }\n\n        .wph__guests,\n        .wph__money {\n          display: flex;\n          align-items: center;\n          gap: 1rem;\n\n          font-size: 2.1rem;\n          font-weight: 500;\n        }\n\n        .wph__additional-information {\n          padding: 2rem;\n          border-left: 0.4rem solid ",";\n          color: ",";\n        }\n      }\n    }\n\n    .wm__form {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n      gap: 5rem;\n\n      width: 100%;\n\n      .wmf__money {\n        display: grid;\n        grid-template-columns: 1fr auto;\n        grid-auto-rows: 1fr;\n        align-items: flex-end;\n        gap: 1rem;\n\n        width: 100%;\n      }\n    }\n  "])),e.colors.shape,e.shadows.default,e.colors.text,e.colors.text)})),y=Z.ZP.div(r||(r=(0,j.Z)(["\n  ","\n"])),(function(n){var e=n.theme;return(0,Z.iv)(c||(c=(0,j.Z)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n\n    border-radius: 0.2rem;\n\n    .l__row {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      gap: 5rem;\n\n      padding: 2rem 1rem;\n      border-bottom: 2px solid ",";\n      cursor: pointer;\n      overflow-x: auto;\n      transition: ",";\n\n      &:hover {\n        background-color: ",";\n      }\n\n      &--checked {\n        .lr__right {\n          text-decoration: line-through;\n        }\n      }\n\n      .lr__left {\n        display: flex;\n        align-items: center;\n        gap: 1rem;\n\n        .lrl__disabled-checkbox {\n          pointer-events: none;\n        }\n      }\n\n      .lr__right {\n        font-size: 2.1rem;\n        font-weight: 700;\n      }\n    }\n  "])),e.colors.primary,e.transitions.default,e.colors.background)})),N=i(184),k=function(n){var e=n.eventId,i=n.participants,t=n.onParticipantUpdate;return(0,N.jsx)(y,{children:0===i.length?(0,N.jsx)("span",{children:"Nenhum participante adicionado ainda :("}):i.map((function(n){return(0,N.jsxs)("div",{className:"l__row ".concat(n.paid?"l__row--checked":""),onClick:function(){t((0,h.to)(e,n.id))},children:[(0,N.jsx)("div",{className:"lr__left",children:(0,N.jsx)(x.XZ,{label:n.name,checked:n.paid,infoIcon:n.includeDrink?{icon:(0,N.jsx)(w.f5p,{}),message:"Bebida inclusa"}:void 0,readOnly:!0,labelClassName:"lrl__disabled-checkbox"})}),(0,N.jsx)("span",{className:"lr__right",children:(0,_.dN)(n.amount/100)})]},n.id)}))})},I=i(8743),S=function(){var n,e,i,t=(0,d.UO)(),a=(0,d.s0)(),r=(0,l.useState)((0,h.zu)(parseInt(null!==(n=t.id)&&void 0!==n?n:""))),c=(0,s.Z)(r,2),w=c[0],j=c[1],Z=(0,l.useState)(!1),y=(0,s.Z)(Z,2),S=y[0],C=y[1],z=(0,l.useState)({name:"",includeDrink:!1,amount:1500}),D=(0,s.Z)(z,2),O=D[0],P=D[1],A=(0,u.useSpring)({from:{opacity:0,y:100},to:{opacity:1,y:0}}),J=(0,u.useSpring)({val:w.value,from:{val:0}});return(0,N.jsxs)(b,{children:[(0,N.jsx)("div",{className:"w__controls",children:(0,N.jsx)(x.zx,{variant:"outlined",icon:(0,N.jsx)(m.Su7,{}),onClick:function(){return a("/")},children:"Voltar"})}),(0,N.jsxs)(u.animated.div,{style:A,className:"w__page",children:[(0,N.jsxs)("div",{className:"wp__header",children:[(0,N.jsxs)("div",{className:"wph__row",children:[(0,N.jsxs)("div",{className:"wph__column",children:[(0,N.jsx)("span",{className:"wph__date",children:(0,p.Z)(new Date(w.date),"dd/MM")}),(0,N.jsx)("h1",{className:"wph__title",children:w.title})]}),(0,N.jsxs)("div",{className:"wph__column",children:[(0,N.jsxs)("span",{className:"wph__guests",children:[(0,N.jsx)("img",{src:g.Z,alt:"\xcdcone de convidados"}),null!==(e=null===(i=w.participants)||void 0===i?void 0:i.length)&&void 0!==e?e:0]}),(0,N.jsxs)("span",{className:"wph__money",children:[(0,N.jsx)("img",{src:v.Z,alt:"\xcdcone cifr\xe3o"}),(0,N.jsx)(u.animated.span,{children:J.val.to((function(n){return(0,_.dN)(Math.floor(n)/100)}))})]})]})]}),w.additionalInfo&&(0,N.jsx)("div",{className:"wph__additional-information",children:w.additionalInfo})]}),(0,N.jsx)("div",{className:"wp__list",children:(0,N.jsx)(k,{eventId:w.id,participants:w.participants,onParticipantUpdate:function(n){return j(n)}})}),(0,N.jsx)(x.zx,{variant:"default",fullWidth:!0,icon:(0,N.jsx)(m.x06,{}),onClick:function(){return C(!0)},children:"Adicionar Participante"})]}),(0,N.jsx)(x.u_,{isOpen:S,onClose:function(){return C(!1)},modalTitle:"Adicionar participante",children:(0,N.jsxs)("form",{onSubmit:function(n){n.preventDefault();var e=O.includeDrink,i=O.amount,t=(0,I.d)(w.id,(0,o.Z)((0,o.Z)({},O),{},{amount:e?i+2e3:i}));j(t),C(!1),P({name:"",includeDrink:!1,amount:1500}),f.Am.success("participante adicionado com sucesso!")},className:"wm__form",children:[(0,N.jsx)(x.II,{value:O.name,onChange:function(n){return P((function(e){return(0,o.Z)((0,o.Z)({},e),{},{name:n.target.value})}))},label:"Nome participante",placeholder:"Qual o nome da fera?",autoFocus:!0}),(0,N.jsxs)("div",{className:"wmf__money",children:[(0,N.jsx)(x.LH,{value:O.amount,onChange:function(n){P((function(e){return(0,o.Z)((0,o.Z)({},e),{},{amount:n})}))},label:"Contribui\xe7\xe3o"}),(0,N.jsx)(x.XZ,{checked:O.includeDrink,onChange:function(){return P((function(n){return(0,o.Z)((0,o.Z)({},n),{},{includeDrink:!n.includeDrink})}))},label:"Incluir bebidas",infoIcon:{icon:(0,N.jsx)(m.I5p,{}),message:"Acr\xe9cimo de R$20,00"}})]}),(0,N.jsx)(x.zx,{variant:"default",type:"submit",fullWidth:!0,icon:(0,N.jsx)(m.HhX,{}),disabled:!O.name||0===O.amount,children:"Confirmar"})]})})]})}},2018:function(n,e,i){i.d(e,{zu:function(){return a},Tt:function(){return t},zU:function(){return s},K8:function(){return l},to:function(){return d}});var t=function(){!localStorage.getItem("@churras-trinca/events")&&localStorage.setItem("@churras-trinca/events",JSON.stringify([]));var n=localStorage.getItem("@churras-trinca/events");return n&&JSON.parse(n)},a=function(n){return t().filter((function(e){return e.id===n}))[0]},r=i(8683),c=i(2982),o=i(9377),s=function(n){var e=t(),i=[].concat((0,c.Z)(e),[(0,r.Z)((0,r.Z)({},n),{},{id:(0,o.Ox)(),value:0,participants:[]})]);return localStorage.setItem("@churras-trinca/events",JSON.stringify(i)),i},l=(i(8743),function(n){var e=t().map((function(e){return e.id===n.id?(0,r.Z)({},n):e}));return localStorage.setItem("@churras-trinca/events",JSON.stringify(e)),e}),d=function(n,e){var i=a(n),t=i.participants.map((function(n){return n.id===e?(0,r.Z)((0,r.Z)({},n),{},{paid:!n.paid}):n})),c=(0,r.Z)((0,r.Z)({},i),{},{value:t.filter((function(n){return n.paid})).map((function(n){return n.amount})).reduce((function(n,e){return n+e}),0),participants:t});return l(c),c}},8743:function(n,e,i){i.d(e,{d:function(){return o}});var t=i(2982),a=i(8683),r=i(9377),c=i(2018),o=function(n,e){var i=(0,c.zu)(n),o=(0,a.Z)((0,a.Z)({},i),{},{participants:[].concat((0,t.Z)(i.participants),[(0,a.Z)((0,a.Z)({},e),{},{id:(0,r.Ox)(),paid:!1})])});return(0,c.K8)(o),o}}}]);
//# sourceMappingURL=702.21b90b8b.chunk.js.map